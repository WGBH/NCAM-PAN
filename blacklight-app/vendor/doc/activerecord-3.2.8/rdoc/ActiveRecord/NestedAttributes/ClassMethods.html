<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Module: ActiveRecord::NestedAttributes::ClassMethods</title>

  <link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

  <script src="../../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="module">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../../lib/active_record/nested_attributes_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/active_record/nested_attributes.rb">lib/active_record/nested_attributes.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-i-accepts_nested_attributes_for">#accepts_nested_attributes_for</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../../README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../../ActiveRecord.html">ActiveRecord</a></li>
        
          <li><a href="../../ActiveRecord/ActiveRecordError.html">ActiveRecord::ActiveRecordError</a></li>
        
          <li><a href="../../ActiveRecord/AdapterNotFound.html">ActiveRecord::AdapterNotFound</a></li>
        
          <li><a href="../../ActiveRecord/AdapterNotSpecified.html">ActiveRecord::AdapterNotSpecified</a></li>
        
          <li><a href="../../ActiveRecord/Aggregations.html">ActiveRecord::Aggregations</a></li>
        
          <li><a href="../../ActiveRecord/Aggregations/ClassMethods.html">ActiveRecord::Aggregations::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/AssociationTypeMismatch.html">ActiveRecord::AssociationTypeMismatch</a></li>
        
          <li><a href="../../ActiveRecord/Associations.html">ActiveRecord::Associations</a></li>
        
          <li><a href="../../ActiveRecord/Associations/ClassMethods.html">ActiveRecord::Associations::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/AttributeAssignment.html">ActiveRecord::AttributeAssignment</a></li>
        
          <li><a href="../../ActiveRecord/AttributeAssignment/ClassMethods.html">ActiveRecord::AttributeAssignment::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/AttributeAssignmentError.html">ActiveRecord::AttributeAssignmentError</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods.html">ActiveRecord::AttributeMethods</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/BeforeTypeCast.html">ActiveRecord::AttributeMethods::BeforeTypeCast</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/ClassMethods.html">ActiveRecord::AttributeMethods::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/DeprecatedUnderscoreRead.html">ActiveRecord::AttributeMethods::DeprecatedUnderscoreRead</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/DeprecatedUnderscoreRead/ClassMethods.html">ActiveRecord::AttributeMethods::DeprecatedUnderscoreRead::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/Dirty.html">ActiveRecord::AttributeMethods::Dirty</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/PrimaryKey.html">ActiveRecord::AttributeMethods::PrimaryKey</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/PrimaryKey/ClassMethods.html">ActiveRecord::AttributeMethods::PrimaryKey::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/Query.html">ActiveRecord::AttributeMethods::Query</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/Read.html">ActiveRecord::AttributeMethods::Read</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/Read/ClassMethods.html">ActiveRecord::AttributeMethods::Read::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/Serialization.html">ActiveRecord::AttributeMethods::Serialization</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/Serialization/Attribute.html">ActiveRecord::AttributeMethods::Serialization::Attribute</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/Serialization/ClassMethods.html">ActiveRecord::AttributeMethods::Serialization::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/TimeZoneConversion.html">ActiveRecord::AttributeMethods::TimeZoneConversion</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/TimeZoneConversion/ClassMethods.html">ActiveRecord::AttributeMethods::TimeZoneConversion::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/Write.html">ActiveRecord::AttributeMethods::Write</a></li>
        
          <li><a href="../../ActiveRecord/AttributeMethods/Write/ClassMethods.html">ActiveRecord::AttributeMethods::Write::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/AutosaveAssociation.html">ActiveRecord::AutosaveAssociation</a></li>
        
          <li><a href="../../ActiveRecord/AutosaveAssociation/ClassMethods.html">ActiveRecord::AutosaveAssociation::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/Base.html">ActiveRecord::Base</a></li>
        
          <li><a href="../../ActiveRecord/Batches.html">ActiveRecord::Batches</a></li>
        
          <li><a href="../../ActiveRecord/Calculations.html">ActiveRecord::Calculations</a></li>
        
          <li><a href="../../ActiveRecord/Callbacks.html">ActiveRecord::Callbacks</a></li>
        
          <li><a href="../../ActiveRecord/Coders.html">ActiveRecord::Coders</a></li>
        
          <li><a href="../../ActiveRecord/ConfigurationError.html">ActiveRecord::ConfigurationError</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters.html">ActiveRecord::ConnectionAdapters</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/AbstractAdapter.html">ActiveRecord::ConnectionAdapters::AbstractAdapter</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/AbstractMysqlAdapter.html">ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/ConnectionHandler.html">ActiveRecord::ConnectionAdapters::ConnectionHandler</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/ConnectionManagement.html">ActiveRecord::ConnectionAdapters::ConnectionManagement</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/ConnectionPool.html">ActiveRecord::ConnectionAdapters::ConnectionPool</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/DatabaseLimits.html">ActiveRecord::ConnectionAdapters::DatabaseLimits</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/DatabaseStatements.html">ActiveRecord::ConnectionAdapters::DatabaseStatements</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/Mysql2Adapter.html">ActiveRecord::ConnectionAdapters::Mysql2Adapter</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/MysqlAdapter.html">ActiveRecord::ConnectionAdapters::MysqlAdapter</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/MysqlAdapter/StatementPool.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::StatementPool</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/StatementPool.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::StatementPool</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/TableDefinition.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::TableDefinition</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/Utils.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::Utils</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/PostgreSQLColumn.html">ActiveRecord::ConnectionAdapters::PostgreSQLColumn</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/QueryCache.html">ActiveRecord::ConnectionAdapters::QueryCache</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/Quoting.html">ActiveRecord::ConnectionAdapters::Quoting</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/SQLiteAdapter.html">ActiveRecord::ConnectionAdapters::SQLiteAdapter</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/SQLiteAdapter/ExplainPrettyPrinter.html">ActiveRecord::ConnectionAdapters::SQLiteAdapter::ExplainPrettyPrinter</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/SQLiteAdapter/StatementPool.html">ActiveRecord::ConnectionAdapters::SQLiteAdapter::StatementPool</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/SQLiteAdapter/Version.html">ActiveRecord::ConnectionAdapters::SQLiteAdapter::Version</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/SchemaCache.html">ActiveRecord::ConnectionAdapters::SchemaCache</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/SchemaStatements.html">ActiveRecord::ConnectionAdapters::SchemaStatements</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/StatementPool.html">ActiveRecord::ConnectionAdapters::StatementPool</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/Table.html">ActiveRecord::ConnectionAdapters::Table</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionAdapters/TableDefinition.html">ActiveRecord::ConnectionAdapters::TableDefinition</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionNotEstablished.html">ActiveRecord::ConnectionNotEstablished</a></li>
        
          <li><a href="../../ActiveRecord/ConnectionTimeoutError.html">ActiveRecord::ConnectionTimeoutError</a></li>
        
          <li><a href="../../ActiveRecord/CounterCache.html">ActiveRecord::CounterCache</a></li>
        
          <li><a href="../../ActiveRecord/DangerousAttributeError.html">ActiveRecord::DangerousAttributeError</a></li>
        
          <li><a href="../../ActiveRecord/Delegation.html">ActiveRecord::Delegation</a></li>
        
          <li><a href="../../ActiveRecord/DynamicFinderMatch.html">ActiveRecord::DynamicFinderMatch</a></li>
        
          <li><a href="../../ActiveRecord/DynamicMatchers.html">ActiveRecord::DynamicMatchers</a></li>
        
          <li><a href="../../ActiveRecord/DynamicScopeMatch.html">ActiveRecord::DynamicScopeMatch</a></li>
        
          <li><a href="../../ActiveRecord/Explain.html">ActiveRecord::Explain</a></li>
        
          <li><a href="../../ActiveRecord/FinderMethods.html">ActiveRecord::FinderMethods</a></li>
        
          <li><a href="../../ActiveRecord/Fixtures.html">ActiveRecord::Fixtures</a></li>
        
          <li><a href="../../ActiveRecord/Fixtures/File.html">ActiveRecord::Fixtures::File</a></li>
        
          <li><a href="../../ActiveRecord/Generators.html">ActiveRecord::Generators</a></li>
        
          <li><a href="../../ActiveRecord/Generators/Migration.html">ActiveRecord::Generators::Migration</a></li>
        
          <li><a href="../../ActiveRecord/Generators/MigrationGenerator.html">ActiveRecord::Generators::MigrationGenerator</a></li>
        
          <li><a href="../../ActiveRecord/Generators/ModelGenerator.html">ActiveRecord::Generators::ModelGenerator</a></li>
        
          <li><a href="../../ActiveRecord/Generators/ObserverGenerator.html">ActiveRecord::Generators::ObserverGenerator</a></li>
        
          <li><a href="../../ActiveRecord/Generators/SessionMigrationGenerator.html">ActiveRecord::Generators::SessionMigrationGenerator</a></li>
        
          <li><a href="../../ActiveRecord/IdentityMap.html">ActiveRecord::IdentityMap</a></li>
        
          <li><a href="../../ActiveRecord/IdentityMap/Middleware.html">ActiveRecord::IdentityMap::Middleware</a></li>
        
          <li><a href="../../ActiveRecord/Inheritance.html">ActiveRecord::Inheritance</a></li>
        
          <li><a href="../../ActiveRecord/Inheritance/ClassMethods.html">ActiveRecord::Inheritance::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/Integration.html">ActiveRecord::Integration</a></li>
        
          <li><a href="../../ActiveRecord/InvalidForeignKey.html">ActiveRecord::InvalidForeignKey</a></li>
        
          <li><a href="../../ActiveRecord/IrreversibleMigration.html">ActiveRecord::IrreversibleMigration</a></li>
        
          <li><a href="../../ActiveRecord/Locking.html">ActiveRecord::Locking</a></li>
        
          <li><a href="../../ActiveRecord/Locking/Optimistic.html">ActiveRecord::Locking::Optimistic</a></li>
        
          <li><a href="../../ActiveRecord/Locking/Optimistic/ClassMethods.html">ActiveRecord::Locking::Optimistic::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/Locking/Pessimistic.html">ActiveRecord::Locking::Pessimistic</a></li>
        
          <li><a href="../../ActiveRecord/LogSubscriber.html">ActiveRecord::LogSubscriber</a></li>
        
          <li><a href="../../ActiveRecord/Migration.html">ActiveRecord::Migration</a></li>
        
          <li><a href="../../ActiveRecord/Migration/CommandRecorder.html">ActiveRecord::Migration::CommandRecorder</a></li>
        
          <li><a href="../../ActiveRecord/MigrationProxy.html">ActiveRecord::MigrationProxy</a></li>
        
          <li><a href="../../ActiveRecord/ModelSchema.html">ActiveRecord::ModelSchema</a></li>
        
          <li><a href="../../ActiveRecord/ModelSchema/ClassMethods.html">ActiveRecord::ModelSchema::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/MultiparameterAssignmentErrors.html">ActiveRecord::MultiparameterAssignmentErrors</a></li>
        
          <li><a href="../../ActiveRecord/NestedAttributes.html">ActiveRecord::NestedAttributes</a></li>
        
          <li><a href="../../ActiveRecord/NestedAttributes/ClassMethods.html">ActiveRecord::NestedAttributes::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/NestedAttributes/TooManyRecords.html">ActiveRecord::NestedAttributes::TooManyRecords</a></li>
        
          <li><a href="../../ActiveRecord/Observer.html">ActiveRecord::Observer</a></li>
        
          <li><a href="../../ActiveRecord/Persistence.html">ActiveRecord::Persistence</a></li>
        
          <li><a href="../../ActiveRecord/Persistence/ClassMethods.html">ActiveRecord::Persistence::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/PreparedStatementInvalid.html">ActiveRecord::PreparedStatementInvalid</a></li>
        
          <li><a href="../../ActiveRecord/QueryCache.html">ActiveRecord::QueryCache</a></li>
        
          <li><a href="../../ActiveRecord/QueryCache/ClassMethods.html">ActiveRecord::QueryCache::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/QueryMethods.html">ActiveRecord::QueryMethods</a></li>
        
          <li><a href="../../ActiveRecord/Querying.html">ActiveRecord::Querying</a></li>
        
          <li><a href="../../ActiveRecord/Railtie.html">ActiveRecord::Railtie</a></li>
        
          <li><a href="../../ActiveRecord/Railties.html">ActiveRecord::Railties</a></li>
        
          <li><a href="../../ActiveRecord/Railties/ControllerRuntime.html">ActiveRecord::Railties::ControllerRuntime</a></li>
        
          <li><a href="../../ActiveRecord/Railties/ControllerRuntime/ClassMethods.html">ActiveRecord::Railties::ControllerRuntime::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/ReadOnlyRecord.html">ActiveRecord::ReadOnlyRecord</a></li>
        
          <li><a href="../../ActiveRecord/ReadonlyAttributes.html">ActiveRecord::ReadonlyAttributes</a></li>
        
          <li><a href="../../ActiveRecord/ReadonlyAttributes/ClassMethods.html">ActiveRecord::ReadonlyAttributes::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/RecordInvalid.html">ActiveRecord::RecordInvalid</a></li>
        
          <li><a href="../../ActiveRecord/RecordNotFound.html">ActiveRecord::RecordNotFound</a></li>
        
          <li><a href="../../ActiveRecord/RecordNotSaved.html">ActiveRecord::RecordNotSaved</a></li>
        
          <li><a href="../../ActiveRecord/RecordNotUnique.html">ActiveRecord::RecordNotUnique</a></li>
        
          <li><a href="../../ActiveRecord/Reflection.html">ActiveRecord::Reflection</a></li>
        
          <li><a href="../../ActiveRecord/Reflection/ClassMethods.html">ActiveRecord::Reflection::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/Reflection/MacroReflection.html">ActiveRecord::Reflection::MacroReflection</a></li>
        
          <li><a href="../../ActiveRecord/Relation.html">ActiveRecord::Relation</a></li>
        
          <li><a href="../../ActiveRecord/Result.html">ActiveRecord::Result</a></li>
        
          <li><a href="../../ActiveRecord/Rollback.html">ActiveRecord::Rollback</a></li>
        
          <li><a href="../../ActiveRecord/Sanitization.html">ActiveRecord::Sanitization</a></li>
        
          <li><a href="../../ActiveRecord/Sanitization/ClassMethods.html">ActiveRecord::Sanitization::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/Schema.html">ActiveRecord::Schema</a></li>
        
          <li><a href="../../ActiveRecord/Scoping.html">ActiveRecord::Scoping</a></li>
        
          <li><a href="../../ActiveRecord/Scoping/ClassMethods.html">ActiveRecord::Scoping::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/Scoping/Default.html">ActiveRecord::Scoping::Default</a></li>
        
          <li><a href="../../ActiveRecord/Scoping/Default/ClassMethods.html">ActiveRecord::Scoping::Default::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/Scoping/Named.html">ActiveRecord::Scoping::Named</a></li>
        
          <li><a href="../../ActiveRecord/Scoping/Named/ClassMethods.html">ActiveRecord::Scoping::Named::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/Serialization.html">ActiveRecord::Serialization</a></li>
        
          <li><a href="../../ActiveRecord/SerializationTypeMismatch.html">ActiveRecord::SerializationTypeMismatch</a></li>
        
          <li><a href="../../ActiveRecord/SessionStore.html">ActiveRecord::SessionStore</a></li>
        
          <li><a href="../../ActiveRecord/SessionStore/Session.html">ActiveRecord::SessionStore::Session</a></li>
        
          <li><a href="../../ActiveRecord/SessionStore/SqlBypass.html">ActiveRecord::SessionStore::SqlBypass</a></li>
        
          <li><a href="../../ActiveRecord/SpawnMethods.html">ActiveRecord::SpawnMethods</a></li>
        
          <li><a href="../../ActiveRecord/StaleObjectError.html">ActiveRecord::StaleObjectError</a></li>
        
          <li><a href="../../ActiveRecord/StatementInvalid.html">ActiveRecord::StatementInvalid</a></li>
        
          <li><a href="../../ActiveRecord/Store.html">ActiveRecord::Store</a></li>
        
          <li><a href="../../ActiveRecord/Store/ClassMethods.html">ActiveRecord::Store::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/TestFixtures.html">ActiveRecord::TestFixtures</a></li>
        
          <li><a href="../../ActiveRecord/TestFixtures/ClassMethods.html">ActiveRecord::TestFixtures::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/ThrowResult.html">ActiveRecord::ThrowResult</a></li>
        
          <li><a href="../../ActiveRecord/Timestamp.html">ActiveRecord::Timestamp</a></li>
        
          <li><a href="../../ActiveRecord/Transactions.html">ActiveRecord::Transactions</a></li>
        
          <li><a href="../../ActiveRecord/Transactions/ClassMethods.html">ActiveRecord::Transactions::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/Translation.html">ActiveRecord::Translation</a></li>
        
          <li><a href="../../ActiveRecord/UnknownAttributeError.html">ActiveRecord::UnknownAttributeError</a></li>
        
          <li><a href="../../ActiveRecord/UnknownPrimaryKey.html">ActiveRecord::UnknownPrimaryKey</a></li>
        
          <li><a href="../../ActiveRecord/Validations.html">ActiveRecord::Validations</a></li>
        
          <li><a href="../../ActiveRecord/Validations/AssociatedValidator.html">ActiveRecord::Validations::AssociatedValidator</a></li>
        
          <li><a href="../../ActiveRecord/Validations/ClassMethods.html">ActiveRecord::Validations::ClassMethods</a></li>
        
          <li><a href="../../ActiveRecord/Validations/UniquenessValidator.html">ActiveRecord::Validations::UniquenessValidator</a></li>
        
          <li><a href="../../ActiveRecord/WrappedDatabaseException.html">ActiveRecord::WrappedDatabaseException</a></li>
        
          <li><a href="../../Mysql.html">Mysql</a></li>
        
          <li><a href="../../Mysql/Result.html">Mysql::Result</a></li>
        
          <li><a href="../../Mysql/Stmt.html">Mysql::Stmt</a></li>
        
          <li><a href="../../Mysql/Time.html">Mysql::Time</a></li>
        
          <li><a href="../../ArJdbcMySQL.html">ArJdbcMySQL</a></li>
        
          <li><a href="../../ArJdbcMySQL/Error.html">ArJdbcMySQL::Error</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="module">ActiveRecord::NestedAttributes::ClassMethods</h1>

    <div id="description" class="description">
      
<h1>Active Record Nested Attributes</h1>

<p>Nested attributes allow you to save attributes on associated records
through the parent. By default nested attribute updating is turned off, you
can enable it using the <a
href="ClassMethods.html#method-i-accepts_nested_attributes_for">accepts_nested_attributes_for</a>
class method. When you enable nested attributes an attribute writer is
defined on the model.</p>

<p>The attribute writer is named after the association, which means that in
the following example, two new methods are added to your model:</p>

<p><tt>author_attributes=(attributes)</tt> and
<tt>pages_attributes=(attributes)</tt>.</p>

<pre>class Book &lt; ActiveRecord::Base
  has_one :author
  has_many :pages

  accepts_nested_attributes_for :author, :pages
end</pre>

<p>Note that the <tt>:autosave</tt> option is automatically enabled on every
association that <a
href="ClassMethods.html#method-i-accepts_nested_attributes_for">accepts_nested_attributes_for</a>
is used for.</p>

<h3>One-to-one</h3>

<p>Consider a Member model that has one Avatar:</p>

<pre>class Member &lt; ActiveRecord::Base
  has_one :avatar
  accepts_nested_attributes_for :avatar
end</pre>

<p>Enabling nested attributes on a one-to-one association allows you to create
the member and avatar in one go:</p>

<pre>params = { :member =&gt; { :name =&gt; 'Jack', :avatar_attributes =&gt; { :icon =&gt; 'smiling' } } }
member = Member.create(params[:member])
member.avatar.id # =&gt; 2
member.avatar.icon # =&gt; 'smiling'</pre>

<p>It also allows you to update the avatar through the member:</p>

<pre>params = { :member =&gt; { :avatar_attributes =&gt; { :id =&gt; '2', :icon =&gt; 'sad' } } }
member.update_attributes params[:member]
member.avatar.icon # =&gt; 'sad'</pre>

<p>By default you will only be able to set and update attributes on the
associated model. If you want to destroy the associated model through the
attributes hash, you have to enable it first using the
<tt>:allow_destroy</tt> option.</p>

<pre>class Member &lt; ActiveRecord::Base
  has_one :avatar
  accepts_nested_attributes_for :avatar, :allow_destroy =&gt; true
end</pre>

<p>Now, when you add the <tt>_destroy</tt> key to the attributes hash, with a
value that evaluates to <tt>true</tt>, you will destroy the associated
model:</p>

<pre>member.avatar_attributes = { :id =&gt; '2', :_destroy =&gt; '1' }
member.avatar.marked_for_destruction? # =&gt; true
member.save
member.reload.avatar # =&gt; nil</pre>

<p>Note that the model will <em>not</em> be destroyed until the parent is
saved.</p>

<h3>One-to-many</h3>

<p>Consider a member that has a number of posts:</p>

<pre>class Member &lt; ActiveRecord::Base
  has_many :posts
  accepts_nested_attributes_for :posts
end</pre>

<p>You can now set or update attributes on an associated post model through
the attribute hash.</p>

<p>For each hash that does <em>not</em> have an <tt>id</tt> key a new record
will be instantiated, unless the hash also contains a <tt>_destroy</tt> key
that evaluates to <tt>true</tt>.</p>

<pre>params = { :member =&gt; {
  :name =&gt; 'joe', :posts_attributes =&gt; [
    { :title =&gt; 'Kari, the awesome Ruby documentation browser!' },
    { :title =&gt; 'The egalitarian assumption of the modern citizen' },
    { :title =&gt; '', :_destroy =&gt; '1' } # this will be ignored
  ]
}}

member = Member.create(params['member'])
member.posts.length # =&gt; 2
member.posts.first.title # =&gt; 'Kari, the awesome Ruby documentation browser!'
member.posts.second.title # =&gt; 'The egalitarian assumption of the modern citizen'</pre>

<p>You may also set a :reject_if proc to silently ignore any new record hashes
if they fail to pass your criteria. For example, the previous example could
be rewritten as:</p>

<pre> class Member &lt; ActiveRecord::Base
   has_many :posts
   accepts_nested_attributes_for :posts, :reject_if =&gt; proc { |attributes| attributes['title'].blank? }
 end

params = { :member =&gt; {
  :name =&gt; 'joe', :posts_attributes =&gt; [
    { :title =&gt; 'Kari, the awesome Ruby documentation browser!' },
    { :title =&gt; 'The egalitarian assumption of the modern citizen' },
    { :title =&gt; '' } # this will be ignored because of the :reject_if proc
  ]
}}

member = Member.create(params['member'])
member.posts.length # =&gt; 2
member.posts.first.title # =&gt; 'Kari, the awesome Ruby documentation browser!'
member.posts.second.title # =&gt; 'The egalitarian assumption of the modern citizen'</pre>

<p>Alternatively, :reject_if also accepts a symbol for using methods:</p>

<pre>class Member &lt; ActiveRecord::Base
  has_many :posts
  accepts_nested_attributes_for :posts, :reject_if =&gt; :new_record?
end

class Member &lt; ActiveRecord::Base
  has_many :posts
  accepts_nested_attributes_for :posts, :reject_if =&gt; :reject_posts

  def reject_posts(attributed)
    attributed['title'].blank?
  end
end</pre>

<p>If the hash contains an <tt>id</tt> key that matches an already associated
record, the matching record will be modified:</p>

<pre>member.attributes = {
  :name =&gt; 'Joe',
  :posts_attributes =&gt; [
    { :id =&gt; 1, :title =&gt; '[UPDATED] An, as of yet, undisclosed awesome Ruby documentation browser!' },
    { :id =&gt; 2, :title =&gt; '[UPDATED] other post' }
  ]
}

member.posts.first.title # =&gt; '[UPDATED] An, as of yet, undisclosed awesome Ruby documentation browser!'
member.posts.second.title # =&gt; '[UPDATED] other post'</pre>

<p>By default the associated records are protected from being destroyed. If
you want to destroy any of the associated records through the attributes
hash, you have to enable it first using the <tt>:allow_destroy</tt> option.
This will allow you to also use the <tt>_destroy</tt> key to destroy
existing records:</p>

<pre>class Member &lt; ActiveRecord::Base
  has_many :posts
  accepts_nested_attributes_for :posts, :allow_destroy =&gt; true
end

params = { :member =&gt; {
  :posts_attributes =&gt; [{ :id =&gt; '2', :_destroy =&gt; '1' }]
}}

member.attributes = params['member']
member.posts.detect { |p| p.id == 2 }.marked_for_destruction? # =&gt; true
member.posts.length # =&gt; 2
member.save
member.reload.posts.length # =&gt; 1</pre>

<h3>Saving</h3>

<p>All changes to models, including the destruction of those marked for
destruction, are saved and destroyed automatically and atomically when the
parent model is saved. This happens inside the transaction initiated by the
parents save method. See <a
href="../AutosaveAssociation.html">ActiveRecord::AutosaveAssociation</a>.</p>

<h3>Using with attr_accessible</h3>

<p>The use of <tt>attr_accessible</tt> can interfere with nested attributes if
you’re not careful. For example, if the <tt>Member</tt> model above was
using <tt>attr_accessible</tt> like this:</p>

<pre>attr_accessible :name</pre>

<p>You would need to modify it to look like this:</p>

<pre>attr_accessible :name, :posts_attributes</pre>

<h3>Validating the presence of a parent model</h3>

<p>If you want to validate that a child record is associated with a parent
record, you can use <tt>validates_presence_of</tt> and <tt>inverse_of</tt>
as this example illustrates:</p>

<pre>class Member &lt; ActiveRecord::Base
  has_many :posts, :inverse_of =&gt; :member
  accepts_nested_attributes_for :posts
end

class Post &lt; ActiveRecord::Base
  belongs_to :member, :inverse_of =&gt; :posts
  validates_presence_of :member
end</pre>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="REJECT_ALL_BLANK_PROC">REJECT_ALL_BLANK_PROC</a></dt>
          
          <dd class="description"></dd>
          
        
        </dl>
      </div>
      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="accepts_nested_attributes_for-method" class="method-detail ">
          <a name="method-i-accepts_nested_attributes_for"></a>

          
          <div class="method-heading">
            <span class="method-name">accepts_nested_attributes_for</span><span
              class="method-args">(*attr_names)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Defines an attributes writer for the specified association(s). If you are
using <tt>attr_protected</tt> or <tt>attr_accessible</tt>, then you will
need to add the attribute writer to the allowed list.</p>

<p>Supported options:</p>
<dl class="rdoc-list"><dt>:allow_destroy</dt>
<dd>
<p>If true, destroys any members from the attributes hash with a
<tt>_destroy</tt> key and a value that evaluates to <tt>true</tt> (eg. 1,
‘1’, true, or ‘true’). This option is off by default.</p>
</dd><dt>:reject_if</dt>
<dd>
<p>Allows you to specify a Proc or a Symbol pointing to a method that checks
whether a record should be built for a certain attribute hash. The hash is
passed to the supplied Proc or the method and it should return either
<tt>true</tt> or <tt>false</tt>. When no :reject_if is specified, a record
will be built for all attribute hashes that do not have a <tt>_destroy</tt>
value that evaluates to true. Passing <tt>:all_blank</tt> instead of a Proc
will create a proc that will reject a record where all the attributes are
blank excluding any value for _destroy.</p>
</dd><dt>:limit</dt>
<dd>
<p>Allows you to specify the maximum number of the associated records that can
be processed with the nested attributes. If the size of the nested
attributes array exceeds the specified limit, <a
href="TooManyRecords.html">NestedAttributes::TooManyRecords</a> exception
is raised. If omitted, any number associations can be processed. Note that
the :limit option is only applicable to one-to-many associations.</p>
</dd><dt>:update_only</dt>
<dd>
<p>Allows you to specify that an existing record may only be updated. A new
record may only be created when there is no existing record. This option
only works for one-to-one associations and is ignored for collection
associations. This option is off by default.</p>
</dd></dl>

<p>Examples:</p>

<pre># creates avatar_attributes=
accepts_nested_attributes_for :avatar, :reject_if =&gt; proc { |attributes| attributes['name'].blank? }
# creates avatar_attributes=
accepts_nested_attributes_for :avatar, :reject_if =&gt; :all_blank
# creates avatar_attributes= and posts_attributes=
accepts_nested_attributes_for :avatar, :posts, :allow_destroy =&gt; true</pre>
            

            
            <div class="method-source-code" id="accepts_nested_attributes_for-source">
<pre>
<span class="ruby-comment"># File lib/active_record/nested_attributes.rb, line 263</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">accepts_nested_attributes_for</span>(*<span class="ruby-identifier">attr_names</span>)
  <span class="ruby-identifier">options</span> = { <span class="ruby-value">:allow_destroy</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:update_only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span> }
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">attr_names</span>.<span class="ruby-identifier">extract_options!</span>)
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-value">:allow_destroy</span>, <span class="ruby-value">:reject_if</span>, <span class="ruby-value">:limit</span>, <span class="ruby-value">:update_only</span>)
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:reject_if</span>] = <span class="ruby-constant">REJECT_ALL_BLANK_PROC</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:reject_if</span>] <span class="ruby-operator">==</span> <span class="ruby-value">:all_blank</span>

  <span class="ruby-identifier">attr_names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">association_name</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">reflection</span> = <span class="ruby-identifier">reflect_on_association</span>(<span class="ruby-identifier">association_name</span>)
      <span class="ruby-identifier">reflection</span>.<span class="ruby-identifier">options</span>[<span class="ruby-value">:autosave</span>] = <span class="ruby-keyword">true</span>
      <span class="ruby-identifier">add_autosave_association_callbacks</span>(<span class="ruby-identifier">reflection</span>)

      <span class="ruby-identifier">nested_attributes_options</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">nested_attributes_options</span>.<span class="ruby-identifier">dup</span>
      <span class="ruby-identifier">nested_attributes_options</span>[<span class="ruby-identifier">association_name</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">options</span>
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">nested_attributes_options</span> = <span class="ruby-identifier">nested_attributes_options</span>

      <span class="ruby-identifier">type</span> = (<span class="ruby-identifier">reflection</span>.<span class="ruby-identifier">collection?</span> <span class="ruby-operator">?</span> <span class="ruby-value">:collection</span> <span class="ruby-operator">:</span> <span class="ruby-value">:one_to_one</span>)

      <span class="ruby-comment"># def pirate_attributes=(attributes)</span>
      <span class="ruby-comment">#   assign_nested_attributes_for_one_to_one_association(:pirate, attributes, mass_assignment_options)</span>
      <span class="ruby-comment"># end</span>
      <span class="ruby-identifier">class_eval</span> <span class="ruby-string">              if method_defined?(:#{association_name}_attributes=)                remove_method(:#{association_name}_attributes=)              end              def #{association_name}_attributes=(attributes)                assign_nested_attributes_for_#{type}_association(:#{association_name}, attributes, mass_assignment_options)              end</span>, <span class="ruby-keyword">__FILE__</span>, <span class="ruby-keyword">__LINE__</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;No association found for name `#{association_name}'. Has it been defined yet?&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- accepts_nested_attributes_for-source -->
            
          </div>

          

          
        </div><!-- accepts_nested_attributes_for-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

