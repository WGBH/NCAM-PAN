<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: Rack::Test::Session</title>

  <link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

  <script src="../../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../../lib/rack/test_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/rack/test.rb">lib/rack/test.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-authorize">#authorize</a></li>
          
          <li><a href="#method-i-basic_authorize">#basic_authorize</a></li>
          
          <li><a href="#method-i-delete">#delete</a></li>
          
          <li><a href="#method-i-digest_authorize">#digest_authorize</a></li>
          
          <li><a href="#method-i-follow_redirect-21">#follow_redirect!</a></li>
          
          <li><a href="#method-i-get">#get</a></li>
          
          <li><a href="#method-i-head">#head</a></li>
          
          <li><a href="#method-i-header">#header</a></li>
          
          <li><a href="#method-i-options">#options</a></li>
          
          <li><a href="#method-i-patch">#patch</a></li>
          
          <li><a href="#method-i-post">#post</a></li>
          
          <li><a href="#method-i-put">#put</a></li>
          
          <li><a href="#method-i-request">#request</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../../MIT-LICENSE_txt.html">MIT-LICENSE.txt</a></li>
        
          <li class="file"><a href="../../README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../../Rack.html">Rack</a></li>
        
          <li><a href="../../Rack/Test.html">Rack::Test</a></li>
        
          <li><a href="../../Rack/Test/Error.html">Rack::Test::Error</a></li>
        
          <li><a href="../../Rack/Test/Methods.html">Rack::Test::Methods</a></li>
        
          <li><a href="../../Rack/Test/Session.html">Rack::Test::Session</a></li>
        
          <li><a href="../../Rack/Test/UploadedFile.html">Rack::Test::UploadedFile</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Rack::Test::Session</h1>

    <div id="description" class="description">
      
<p>This class represents a series of requests issued to a <a
href="../../Rack.html">Rack</a> app, sharing a single cookie jar</p>

<p>Rack::Test::Session’s methods are most often called through <a
href="Methods.html">Rack::Test::Methods</a>, which will automatically build
a session when it’s first used.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(mock_session)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Creates a <a href="Session.html">Rack::Test::Session</a> for a given <a
href="../../Rack.html">Rack</a> app or Rack::MockSession.</p>

<p>Note: Generally, you won’t need to initialize a <a
href="Session.html">Rack::Test::Session</a> directly. Instead, you should
include <a href="Methods.html">Rack::Test::Methods</a> into your testing
context. (See <a href="../../README_rdoc.html">README.rdoc</a> for an
example)</p>
            

            
            <div class="method-source-code" id="new-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">mock_session</span>)
  <span class="ruby-ivar">@headers</span> = {}

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">mock_session</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">MockSession</span>)
    <span class="ruby-ivar">@rack_mock_session</span> = <span class="ruby-identifier">mock_session</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@rack_mock_session</span> = <span class="ruby-constant">MockSession</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">mock_session</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@default_host</span> = <span class="ruby-ivar">@rack_mock_session</span>.<span class="ruby-identifier">default_host</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="authorize-method" class="method-detail method-alias">
          <a name="method-i-authorize"></a>

          
          <div class="method-heading">
            <span class="method-name">authorize</span><span
              class="method-args">(username, password)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Session.html#method-i-basic_authorize">basic_authorize</a>
          </div>
          
        </div><!-- authorize-method -->

      
        <div id="basic_authorize-method" class="method-detail ">
          <a name="method-i-basic_authorize"></a>

          
          <div class="method-heading">
            <span class="method-name">basic_authorize</span><span
              class="method-args">(username, password)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the username and password for HTTP Basic authorization, to be included
in subsequent requests in the HTTP_AUTHORIZATION header.</p>

<p>Example:</p>

<pre>basic_authorize &quot;bryan&quot;, &quot;secret&quot;</pre>
            

            
            <div class="method-source-code" id="basic_authorize-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 147</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">basic_authorize</span>(<span class="ruby-identifier">username</span>, <span class="ruby-identifier">password</span>)
  <span class="ruby-identifier">encoded_login</span> = [<span class="ruby-node">&quot;#{username}:#{password}&quot;</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&quot;m*&quot;</span>)
  <span class="ruby-identifier">header</span>(<span class="ruby-string">'Authorization'</span>, <span class="ruby-node">&quot;Basic #{encoded_login}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- basic_authorize-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Session.html#method-i-authorize">authorize</a>
          </div>
          

          
        </div><!-- basic_authorize-method -->

      
        <div id="delete-method" class="method-detail ">
          <a name="method-i-delete"></a>

          
          <div class="method-heading">
            <span class="method-name">delete</span><span
              class="method-args">(uri, params = {}, env = {}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Issue a DELETE request for the given URI. See <a
href="Session.html#method-i-get">get</a></p>

<p>Example:</p>

<pre>delete &quot;/&quot;</pre>
            

            
            <div class="method-source-code" id="delete-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">params</span> = {}, <span class="ruby-identifier">env</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">env</span> = <span class="ruby-identifier">env_for</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;DELETE&quot;</span>, <span class="ruby-value">:params</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>))
  <span class="ruby-identifier">process_request</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- delete-source -->
            
          </div>

          

          
        </div><!-- delete-method -->

      
        <div id="digest_authorize-method" class="method-detail ">
          <a name="method-i-digest_authorize"></a>

          
          <div class="method-heading">
            <span class="method-name">digest_authorize</span><span
              class="method-args">(username, password)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the username and password for HTTP Digest authorization, to be included
in subsequent requests in the HTTP_AUTHORIZATION header.</p>

<p>Example:</p>

<pre>digest_authorize &quot;bryan&quot;, &quot;secret&quot;</pre>
            

            
            <div class="method-source-code" id="digest_authorize-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 159</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">digest_authorize</span>(<span class="ruby-identifier">username</span>, <span class="ruby-identifier">password</span>)
  <span class="ruby-ivar">@digest_username</span> = <span class="ruby-identifier">username</span>
  <span class="ruby-ivar">@digest_password</span> = <span class="ruby-identifier">password</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- digest_authorize-source -->
            
          </div>

          

          
        </div><!-- digest_authorize-method -->

      
        <div id="follow_redirect-21-method" class="method-detail ">
          <a name="method-i-follow_redirect-21"></a>

          
          <div class="method-heading">
            <span class="method-name">follow_redirect!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p><a href="../Test.html">Rack::Test</a> will not follow any redirects
automatically. This method will follow the redirect returned (including
setting the Referer header on the new request) in the last response. If the
last response was not a redirect, an error will be raised.</p>
            

            
            <div class="method-source-code" id="follow_redirect-21-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">follow_redirect!</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">redirect?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;Last response was not a redirect. Cannot follow_redirect!&quot;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">get</span>(<span class="ruby-identifier">last_response</span>[<span class="ruby-string">&quot;Location&quot;</span>], {}, { <span class="ruby-string">&quot;HTTP_REFERER&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">last_request</span>.<span class="ruby-identifier">url</span> })
<span class="ruby-keyword">end</span></pre>
            </div><!-- follow_redirect-21-source -->
            
          </div>

          

          
        </div><!-- follow_redirect-21-method -->

      
        <div id="get-method" class="method-detail ">
          <a name="method-i-get"></a>

          
          <div class="method-heading">
            <span class="method-name">get</span><span
              class="method-args">(uri, params = {}, env = {}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Issue a GET request for the given URI with the given params and <a
href="../../Rack.html">Rack</a> environment. Stores the issues request
object in last_request and the app’s response in last_response. Yield
last_response to a block if given.</p>

<p>Example:</p>

<pre>get &quot;/&quot;</pre>
            

            
            <div class="method-source-code" id="get-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">params</span> = {}, <span class="ruby-identifier">env</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">env</span> = <span class="ruby-identifier">env_for</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;GET&quot;</span>, <span class="ruby-value">:params</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>))
  <span class="ruby-identifier">process_request</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- get-source -->
            
          </div>

          

          
        </div><!-- get-method -->

      
        <div id="head-method" class="method-detail ">
          <a name="method-i-head"></a>

          
          <div class="method-heading">
            <span class="method-name">head</span><span
              class="method-args">(uri, params = {}, env = {}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Issue a HEAD request for the given URI. See <a
href="Session.html#method-i-get">get</a></p>

<p>Example:</p>

<pre>head &quot;/&quot;</pre>
            

            
            <div class="method-source-code" id="head-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">head</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">params</span> = {}, <span class="ruby-identifier">env</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">env</span> = <span class="ruby-identifier">env_for</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;HEAD&quot;</span>, <span class="ruby-value">:params</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>))
  <span class="ruby-identifier">process_request</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- head-source -->
            
          </div>

          

          
        </div><!-- head-method -->

      
        <div id="header-method" class="method-detail ">
          <a name="method-i-header"></a>

          
          <div class="method-heading">
            <span class="method-name">header</span><span
              class="method-args">(name, value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set a header to be included on all subsequent requests through the session.
Use a value of nil to remove a previously configured header.</p>

<p>In accordance with the <a href="../../Rack.html">Rack</a> spec, headers
will be included in the <a href="../../Rack.html">Rack</a> environment hash
in HTTP_USER_AGENT form.</p>

<p>Example:</p>

<pre>header &quot;User-Agent&quot;, &quot;Firefox&quot;</pre>
            

            
            <div class="method-source-code" id="header-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">header</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@headers</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@headers</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- header-source -->
            
          </div>

          

          
        </div><!-- header-method -->

      
        <div id="options-method" class="method-detail ">
          <a name="method-i-options"></a>

          
          <div class="method-heading">
            <span class="method-name">options</span><span
              class="method-args">(uri, params = {}, env = {}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Issue an OPTIONS request for the given URI. See <a
href="Session.html#method-i-get">get</a></p>

<p>Example:</p>

<pre>options &quot;/&quot;</pre>
            

            
            <div class="method-source-code" id="options-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">options</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">params</span> = {}, <span class="ruby-identifier">env</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">env</span> = <span class="ruby-identifier">env_for</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;OPTIONS&quot;</span>, <span class="ruby-value">:params</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>))
  <span class="ruby-identifier">process_request</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- options-source -->
            
          </div>

          

          
        </div><!-- options-method -->

      
        <div id="patch-method" class="method-detail ">
          <a name="method-i-patch"></a>

          
          <div class="method-heading">
            <span class="method-name">patch</span><span
              class="method-args">(uri, params = {}, env = {}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Issue a PATCH request for the given URI. See <a
href="Session.html#method-i-get">get</a></p>

<p>Example:</p>

<pre>patch &quot;/&quot;</pre>
            

            
            <div class="method-source-code" id="patch-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 82</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">patch</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">params</span> = {}, <span class="ruby-identifier">env</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">env</span> = <span class="ruby-identifier">env_for</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;PATCH&quot;</span>, <span class="ruby-value">:params</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>))
  <span class="ruby-identifier">process_request</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- patch-source -->
            
          </div>

          

          
        </div><!-- patch-method -->

      
        <div id="post-method" class="method-detail ">
          <a name="method-i-post"></a>

          
          <div class="method-heading">
            <span class="method-name">post</span><span
              class="method-args">(uri, params = {}, env = {}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Issue a POST request for the given URI. See <a
href="Session.html#method-i-get">get</a></p>

<p>Example:</p>

<pre>post &quot;/signup&quot;, &quot;name&quot; =&gt; &quot;Bryan&quot;</pre>
            

            
            <div class="method-source-code" id="post-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">post</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">params</span> = {}, <span class="ruby-identifier">env</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">env</span> = <span class="ruby-identifier">env_for</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;POST&quot;</span>, <span class="ruby-value">:params</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>))
  <span class="ruby-identifier">process_request</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- post-source -->
            
          </div>

          

          
        </div><!-- post-method -->

      
        <div id="put-method" class="method-detail ">
          <a name="method-i-put"></a>

          
          <div class="method-heading">
            <span class="method-name">put</span><span
              class="method-args">(uri, params = {}, env = {}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Issue a PUT request for the given URI. See <a
href="Session.html#method-i-get">get</a></p>

<p>Example:</p>

<pre>put &quot;/&quot;</pre>
            

            
            <div class="method-source-code" id="put-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">put</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">params</span> = {}, <span class="ruby-identifier">env</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">env</span> = <span class="ruby-identifier">env_for</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;PUT&quot;</span>, <span class="ruby-value">:params</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>))
  <span class="ruby-identifier">process_request</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- put-source -->
            
          </div>

          

          
        </div><!-- put-method -->

      
        <div id="request-method" class="method-detail ">
          <a name="method-i-request"></a>

          
          <div class="method-heading">
            <span class="method-name">request</span><span
              class="method-args">(uri, env = {}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Issue a request to the <a href="../../Rack.html">Rack</a> app for the given
URI and optional <a href="../../Rack.html">Rack</a> environment. Stores the
issues request object in last_request and the app’s response in
last_response. Yield last_response to a block if given.</p>

<p>Example:</p>

<pre>request &quot;/&quot;</pre>
            

            
            <div class="method-source-code" id="request-source">
<pre>
<span class="ruby-comment"># File lib/rack/test.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">request</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">env</span> = <span class="ruby-identifier">env_for</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>)
  <span class="ruby-identifier">process_request</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">env</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- request-source -->
            
          </div>

          

          
        </div><!-- request-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

