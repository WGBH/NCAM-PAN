<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>File: DEVELOPERS.rdoc [rdoc-3.12 Documentation]</title>

  <link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet" />

  <script src="./js/jquery.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript"
    charset="utf-8"></script>
</head>

<body class="file">
  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="./DEVELOPERS_rdoc.html">DEVELOPERS.rdoc</a></li>
        
          <li class="file"><a href="./History_rdoc.html">History.rdoc</a></li>
        
          <li class="file"><a href="./LEGAL_rdoc.html">LEGAL.rdoc</a></li>
        
          <li class="file"><a href="./LICENSE_rdoc.html">LICENSE.rdoc</a></li>
        
          <li class="file"><a href="./Manifest_txt.html">Manifest.txt</a></li>
        
          <li class="file"><a href="./README_rdoc.html">README.rdoc</a></li>
        
          <li class="file"><a href="./RI_rdoc.html">RI.rdoc</a></li>
        
          <li class="file"><a href="./Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="./TODO_rdoc.html">TODO.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./RDoc.html">RDoc</a></li>
        
          <li><a href="./RDoc/Alias.html">RDoc::Alias</a></li>
        
          <li><a href="./RDoc/AnonClass.html">RDoc::AnonClass</a></li>
        
          <li><a href="./RDoc/AnyMethod.html">RDoc::AnyMethod</a></li>
        
          <li><a href="./RDoc/Attr.html">RDoc::Attr</a></li>
        
          <li><a href="./RDoc/ClassModule.html">RDoc::ClassModule</a></li>
        
          <li><a href="./RDoc/CodeObject.html">RDoc::CodeObject</a></li>
        
          <li><a href="./RDoc/Comment.html">RDoc::Comment</a></li>
        
          <li><a href="./RDoc/Constant.html">RDoc::Constant</a></li>
        
          <li><a href="./RDoc/Context.html">RDoc::Context</a></li>
        
          <li><a href="./RDoc/Context/Section.html">RDoc::Context::Section</a></li>
        
          <li><a href="./RDoc/CrossReference.html">RDoc::CrossReference</a></li>
        
          <li><a href="./RDoc/ERBIO.html">RDoc::ERBIO</a></li>
        
          <li><a href="./RDoc/Encoding.html">RDoc::Encoding</a></li>
        
          <li><a href="./RDoc/Error.html">RDoc::Error</a></li>
        
          <li><a href="./RDoc/Gauntlet.html">RDoc::Gauntlet</a></li>
        
          <li><a href="./RDoc/Generator.html">RDoc::Generator</a></li>
        
          <li><a href="./RDoc/Generator/Darkfish.html">RDoc::Generator::Darkfish</a></li>
        
          <li><a href="./RDoc/Generator/JsonIndex.html">RDoc::Generator::JsonIndex</a></li>
        
          <li><a href="./RDoc/Generator/Markup.html">RDoc::Generator::Markup</a></li>
        
          <li><a href="./RDoc/Generator/RI.html">RDoc::Generator::RI</a></li>
        
          <li><a href="./RDoc/GhostMethod.html">RDoc::GhostMethod</a></li>
        
          <li><a href="./RDoc/Include.html">RDoc::Include</a></li>
        
          <li><a href="./RDoc/Markup.html">RDoc::Markup</a></li>
        
          <li><a href="./RDoc/Markup/AttrChanger.html">RDoc::Markup::AttrChanger</a></li>
        
          <li><a href="./RDoc/Markup/AttrSpan.html">RDoc::Markup::AttrSpan</a></li>
        
          <li><a href="./RDoc/Markup/Attribute.html">RDoc::Markup::Attribute</a></li>
        
          <li><a href="./RDoc/Markup/AttributeManager.html">RDoc::Markup::AttributeManager</a></li>
        
          <li><a href="./RDoc/Markup/BlankLine.html">RDoc::Markup::BlankLine</a></li>
        
          <li><a href="./RDoc/Markup/Document.html">RDoc::Markup::Document</a></li>
        
          <li><a href="./RDoc/Markup/Formatter.html">RDoc::Markup::Formatter</a></li>
        
          <li><a href="./RDoc/Markup/FormatterTestCase.html">RDoc::Markup::FormatterTestCase</a></li>
        
          <li><a href="./RDoc/Markup/Heading.html">RDoc::Markup::Heading</a></li>
        
          <li><a href="./RDoc/Markup/Include.html">RDoc::Markup::Include</a></li>
        
          <li><a href="./RDoc/Markup/IndentedParagraph.html">RDoc::Markup::IndentedParagraph</a></li>
        
          <li><a href="./RDoc/Markup/List.html">RDoc::Markup::List</a></li>
        
          <li><a href="./RDoc/Markup/ListItem.html">RDoc::Markup::ListItem</a></li>
        
          <li><a href="./RDoc/Markup/Paragraph.html">RDoc::Markup::Paragraph</a></li>
        
          <li><a href="./RDoc/Markup/Parser.html">RDoc::Markup::Parser</a></li>
        
          <li><a href="./RDoc/Markup/Parser/Error.html">RDoc::Markup::Parser::Error</a></li>
        
          <li><a href="./RDoc/Markup/Parser/ParseError.html">RDoc::Markup::Parser::ParseError</a></li>
        
          <li><a href="./RDoc/Markup/PreProcess.html">RDoc::Markup::PreProcess</a></li>
        
          <li><a href="./RDoc/Markup/Raw.html">RDoc::Markup::Raw</a></li>
        
          <li><a href="./RDoc/Markup/Rule.html">RDoc::Markup::Rule</a></li>
        
          <li><a href="./RDoc/Markup/Special.html">RDoc::Markup::Special</a></li>
        
          <li><a href="./RDoc/Markup/TextFormatterTestCase.html">RDoc::Markup::TextFormatterTestCase</a></li>
        
          <li><a href="./RDoc/Markup/ToAnsi.html">RDoc::Markup::ToAnsi</a></li>
        
          <li><a href="./RDoc/Markup/ToBs.html">RDoc::Markup::ToBs</a></li>
        
          <li><a href="./RDoc/Markup/ToHtml.html">RDoc::Markup::ToHtml</a></li>
        
          <li><a href="./RDoc/Markup/ToHtmlCrossref.html">RDoc::Markup::ToHtmlCrossref</a></li>
        
          <li><a href="./RDoc/Markup/ToHtmlSnippet.html">RDoc::Markup::ToHtmlSnippet</a></li>
        
          <li><a href="./RDoc/Markup/ToLabel.html">RDoc::Markup::ToLabel</a></li>
        
          <li><a href="./RDoc/Markup/ToRdoc.html">RDoc::Markup::ToRdoc</a></li>
        
          <li><a href="./RDoc/Markup/ToTableOfContents.html">RDoc::Markup::ToTableOfContents</a></li>
        
          <li><a href="./RDoc/Markup/ToTest.html">RDoc::Markup::ToTest</a></li>
        
          <li><a href="./RDoc/Markup/ToTtOnly.html">RDoc::Markup::ToTtOnly</a></li>
        
          <li><a href="./RDoc/Markup/Verbatim.html">RDoc::Markup::Verbatim</a></li>
        
          <li><a href="./RDoc/MetaMethod.html">RDoc::MetaMethod</a></li>
        
          <li><a href="./RDoc/MethodAttr.html">RDoc::MethodAttr</a></li>
        
          <li><a href="./RDoc/NormalClass.html">RDoc::NormalClass</a></li>
        
          <li><a href="./RDoc/NormalModule.html">RDoc::NormalModule</a></li>
        
          <li><a href="./RDoc/Options.html">RDoc::Options</a></li>
        
          <li><a href="./RDoc/Parser.html">RDoc::Parser</a></li>
        
          <li><a href="./RDoc/Parser/C.html">RDoc::Parser::C</a></li>
        
          <li><a href="./RDoc/Parser/RD.html">RDoc::Parser::RD</a></li>
        
          <li><a href="./RDoc/Parser/Ruby.html">RDoc::Parser::Ruby</a></li>
        
          <li><a href="./RDoc/Parser/RubyTools.html">RDoc::Parser::RubyTools</a></li>
        
          <li><a href="./RDoc/Parser/Simple.html">RDoc::Parser::Simple</a></li>
        
          <li><a href="./RDoc/Parser/Text.html">RDoc::Parser::Text</a></li>
        
          <li><a href="./RDoc/RD.html">RDoc::RD</a></li>
        
          <li><a href="./RDoc/RD/Inline.html">RDoc::RD::Inline</a></li>
        
          <li><a href="./RDoc/RDoc.html">RDoc::RDoc</a></li>
        
          <li><a href="./RDoc/RI.html">RDoc::RI</a></li>
        
          <li><a href="./RDoc/RI/Driver.html">RDoc::RI::Driver</a></li>
        
          <li><a href="./RDoc/RI/Driver/Error.html">RDoc::RI::Driver::Error</a></li>
        
          <li><a href="./RDoc/RI/Driver/NotFoundError.html">RDoc::RI::Driver::NotFoundError</a></li>
        
          <li><a href="./RDoc/RI/Error.html">RDoc::RI::Error</a></li>
        
          <li><a href="./RDoc/RI/Paths.html">RDoc::RI::Paths</a></li>
        
          <li><a href="./RDoc/RI/Store.html">RDoc::RI::Store</a></li>
        
          <li><a href="./RDoc/Require.html">RDoc::Require</a></li>
        
          <li><a href="./RDoc/RubyLex.html">RDoc::RubyLex</a></li>
        
          <li><a href="./RDoc/RubyLex/Error.html">RDoc::RubyLex::Error</a></li>
        
          <li><a href="./RDoc/RubyToken.html">RDoc::RubyToken</a></li>
        
          <li><a href="./RDoc/RubygemsHook.html">RDoc::RubygemsHook</a></li>
        
          <li><a href="./RDoc/SingleClass.html">RDoc::SingleClass</a></li>
        
          <li><a href="./RDoc/Stats.html">RDoc::Stats</a></li>
        
          <li><a href="./RDoc/Stats/Normal.html">RDoc::Stats::Normal</a></li>
        
          <li><a href="./RDoc/Stats/Quiet.html">RDoc::Stats::Quiet</a></li>
        
          <li><a href="./RDoc/Stats/Verbose.html">RDoc::Stats::Verbose</a></li>
        
          <li><a href="./RDoc/Task.html">RDoc::Task</a></li>
        
          <li><a href="./RDoc/Task.html">RDoc::Task</a></li>
        
          <li><a href="./RDoc/TestCase.html">RDoc::TestCase</a></li>
        
          <li><a href="./RDoc/Text.html">RDoc::Text</a></li>
        
          <li><a href="./RDoc/TokenStream.html">RDoc::TokenStream</a></li>
        
          <li><a href="./RDoc/TomDoc.html">RDoc::TomDoc</a></li>
        
          <li><a href="./RDoc/TopLevel.html">RDoc::TopLevel</a></li>
        
          <li><a href="./Object.html">Object</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    
<h1>Developer Introduction</h1>

<p>So you want to write a generator, fix a bug, or otherwise work with <a
href="RDoc.html">RDoc</a>.  This document provides an overview of how <a
href="RDoc.html">RDoc</a> works from parsing options to generating output. 
Most of the documentation can be found in the specific classes for each
feature.</p>

<h2>Bugs</h2>

<p>If you think you found a bug, file a ticket on the <a
href="https://github.com/rdoc/rdoc/issues">issues tracker</a> on github.</p>

<p>To get your bug fixed as fast as possible please include a sample file that
illustrates the problem or link to a repository and include steps to
reproduce the issue.  Here are some examples of good issues:</p>
<ul><li>
<p><a
href="https://github.com/rdoc/rdoc/issues/55">github.com/rdoc/rdoc/issues/55</a></p>
</li><li>
<p><a
href="https://github.com/rdoc/rdoc/issues/61">github.com/rdoc/rdoc/issues/61</a></p>
</li></ul>

<h2>Plugins</h2>

<p>When ‘rdoc/rdoc’ is loaded <a href="RDoc.html">RDoc</a> looks for
‘rdoc/discover’ files in your installed gems.  This can be used to load
parsers, alternate generators, or additional preprocessor directives.  An
rdoc plugin layout should look something like this:</p>

<pre>lib/rdoc/discover.rb
lib/my/rdoc/plugin.rb
# etc.</pre>

<p>In your rdoc/discover.rb file you will want to wrap the loading of your
plugin in an <a href="RDoc.html">RDoc</a> version check like this:</p>

<pre>begin
  gem 'rdoc', '~&gt; 3'
  require 'my/rdoc/plugin'
rescue Gem::LoadError
end</pre>

<h3>Plugin Types</h3>

<p>In <a href="RDoc.html">RDoc</a> you can change the following behaviors:</p>
<ul><li>
<p>Add a parser for a new file format</p>
</li><li>
<p>Add a new output generator</p>
</li><li>
<p>Add a new markup directive</p>
</li><li>
<p>Add a new type of documentation markup</p>
</li><li>
<p>Add a new type of formatter</p>
</li></ul>

<p>All of these are described below</p>

<h2>Option Parsing</h2>

<p>Option parsing is handled by <a href="RDoc/Options.html">RDoc::Options</a>.
When you’re writing a generator you can provide the user with extra options
by providing a class method <tt>setup_options</tt>.  The option parser will
call this after your generator is loaded.  See <a
href="RDoc/Generator.html">RDoc::Generator</a> for details.</p>

<h2>File Parsing</h2>

<p>After options are parsed, <a href="RDoc.html">RDoc</a> parses files from
the files and directories in ARGV.  <a href="RDoc.html">RDoc</a> compares
the filename against what each parser claims it can parse via
RDoc::Parser#parse_files_matching.  For example, <a
href="RDoc/Parser/C.html">RDoc::Parser::C</a> can parse C files, C headers,
C++ files, C++ headers and yacc grammars.</p>

<p>Once a matching parser class is found it is instantiated and <tt>scan</tt>
is called. The parser needs to extract documentation from the file and add
it to the <a href="RDoc.html">RDoc</a> document tree.  Usually this
involves starting at the root and adding a class or a module (<a
href="RDoc/Context.html#method-i-add_class">RDoc::TopLevel#add_class</a>
and <a
href="RDoc/Context.html#method-i-add_module">RDoc::TopLevel#add_module</a>)
and proceeding to add classes, modules and methods to each nested item.</p>

<p>When the parsers are finished the document tree is cleaned up to remove
dangling references to aliases and includes that were not found (and may
exist in a separate library) through <a
href="RDoc/ClassModule.html#method-i-complete">RDoc::ClassModule#complete</a>.</p>

<p>To write your own parser for a new file format see <a
href="RDoc/Parser.html">RDoc::Parser</a>.</p>

<h3>Documentation Tree</h3>

<p>The parsers build a documentation tree that is composed of <a
href="RDoc/CodeObject.html">RDoc::CodeObject</a> and its subclasses.  There
are various methods to walk the tree to extract information, see <a
href="RDoc/Context.html">RDoc::Context</a> and its subclasses.</p>

<p>Within a class or module, attributes, methods and constants are divided
into sections.  The section represents a functional grouping of parts of
the class. TomDoc uses the sections “Public”, “Internal” and “Deprecated”. 
The sections can be enumerated using <a
href="RDoc/Context.html#method-i-each_section">RDoc::Context#each_section</a>.</p>

<h2>Output Generation</h2>

<p>An <a href="RDoc.html">RDoc</a> generator turns the documentation tree into
some other kind of output. <a href="RDoc.html">RDoc</a> comes with an HTML
generator (<a
href="RDoc/Generator/Darkfish.html">RDoc::Generator::Darkfish</a>) and an
RI database generator (<a
href="RDoc/Generator/RI.html">RDoc::Generator::RI</a>).  The output a
generator creates does not have to be human-readable.</p>

<p>To create your own generator see <a
href="RDoc/Generator.html">RDoc::Generator</a>.</p>

<h3>Comments</h3>

<p>In <a href="RDoc.html">RDoc</a> 3.10 and newer the comment on an <a
href="RDoc/CodeObject.html">RDoc::CodeObject</a> is now an <a
href="RDoc/Comment.html">RDoc::Comment</a> object instead of a String. 
This is to support various documentation markup formats like rdoc, TomDoc
and rd.  The comments are normalized to remove comment markers and remove
indentation then parsed lazily via <a
href="RDoc/Comment.html#attribute-i-document">RDoc::Comment#document</a> to
create a generic markup tree that can be processed by a formatter.</p>

<p>To add your own markup format see RDoc::Markup@Other+directives</p>

<h4>Formatters</h4>

<p>To transform a comment into some form of output an <a
href="RDoc/Markup/Formatter.html">RDoc::Markup::Formatter</a> subclass is
used like <a href="RDoc/Markup/ToHtml.html">RDoc::Markup::ToHtml</a>.  A
formatter is a visitor that walks a parsed comment tree (an <a
href="RDoc/Markup/Document.html">RDoc::Markup::Document</a>) of any format.
To help write a formatter <a
href="RDoc/Markup/FormatterTestCase.html">RDoc::Markup::FormatterTestCase</a>
exists for generic parsers, and <a
href="RDoc/Markup/TextFormatterTestCase.html">RDoc::Markup::TextFormatterTestCase</a>
which contains extra test cases for text-type output (like <tt>ri</tt>
output).</p>

<p><a href="RDoc.html">RDoc</a> ships with formatters that will turn a comment
into HTML, rdoc-markup-like text, ANSI or terminal backspace highlighted
text, HTML, cross-referenced HTML, an HTML snippet free of most markup, an
HTML label for use in id attributes, a table-of-contents page, and text
with only code blocks.</p>

<p>The output of the formatter does not need to be text or text-like. <a
href="RDoc/Markup/ToLabel.html">RDoc::Markup::ToLabel</a> creates an
HTML-safe label for use in an HTML id attribute.  A formatter could count
the number of words and the average word length for a comment, for example.</p>

<h4>Directives</h4>

<p>For comments in markup you can add new directives (:nodoc: is a directive).
Directives may replace text or store it off for later use.</p>

<p>See <a
href="RDoc/Markup/PreProcess.html#method-c-register">RDoc::Markup::PreProcess::register</a>
for details.</p>

<h3>JSONIndex</h3>

<p><a href="RDoc.html">RDoc</a> contains a special generator,
RDoc::Generator::JSONIndex, which creates a JSON-based search index and
includes a search engine for use with HTML output. This generator can be
used to add searching to any HTML output and is designed to be called from
inside an HTML generator.</p>

  </div>

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>
</body>
</html>

